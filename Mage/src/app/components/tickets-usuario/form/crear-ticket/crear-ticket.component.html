<div class="full-height">

    <main class="row">

        <section class="col-md-12 panel">
            <div class="container">
                <div class="row">
                    <h1 class="col-12 text-center h1-registro">Crear Ticket</h1>
                </div>
                <div class="row">
                <form [formGroup] = "ticketForm" class="col-12 col-md-8 offset-md-2">

                    <mat-form-field appearance="outline">
                            <mat-label>Mensaje</mat-label>
                            <input matInput  formControlName="mensaje" class="input-registro">
                            <div *ngIf="ticketForm.controls['mensaje'].invalid && (ticketForm.controls['mensaje'].dirty || ticketForm.controls['mensaje'].touched)">
                                <ng-container *ngIf="ticketForm.controls.mensaje.errors != undefined">
                                    <div class="errorValidacion" *ngIf="ticketForm.controls.mensaje.errors.required">Debe introducir un mensaje</div>
                                    <div class="errorValidacion" *ngIf="ticketForm.controls.mensaje.errors.maxlength">Ha superado el m√°ximo de caracteres permitidos</div>
                                </ng-container>
                            </div>
                    </mat-form-field>
                    
                    <mat-form-field appearance="outline">
                            <mat-label>Categoria</mat-label>
                            <mat-select formControlName="categoria"  class="input-registro">
                                <mat-option *ngFor="let c of categorias" [value]="c.id">{{c.descripcion}}</mat-option>
                            </mat-select>
                            <div *ngIf="ticketForm.controls['categoria'].invalid && (ticketForm.controls['categoria'].dirty || ticketForm.controls['categoria'].touched)">
                                <ng-container *ngIf="ticketForm.controls.categoria.errors != undefined">
                                    <div class="errorValidacion" *ngIf="ticketForm.controls.categoria.errors.required">Debe introducir una categoria</div>
                                </ng-container>
                            </div>
                    </mat-form-field>
                    
                        <div class="form-group text-center pt-4">
                            <button type="submit" class="btn btn-primary btn-login" [disabled]="ticketForm.invalid" (click)="crearTicket()">Crear</button>
                        </div>
    
                        <div class="col-12 links text-center">
                            <div>
                                <button class="btn btn-primary btn-login" (click)="irATickets()">Volver</button>
                            </div>                   
                        </div>
                </form>
            </div>
    </div>
    </section>
    
    <div id="respuestaDelServidor"></div>
    </main>
    
    </div>
